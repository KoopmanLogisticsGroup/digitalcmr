{
  "info": {
    "name":        "digital-cmr",
    "_postman_id": "7e3c7673-0f95-2507-59ec-2cac2132d9c8",
    "description": "Postman collection for Digital CMR - KOOPMAN",
    "schema":      "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name":     "Legal Owner Admin - Login",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "postman.setEnvironmentVariable(\"legalOwnerToken\", jsonData.token);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Authentication successful\"] = jsonData.success === true;",
              "tests[\"Correct user\"] = jsonData.user[\"username\"] === \"lapo@leaseplan.org\";"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n  \"username\" : \"lapo@leaseplan.org\",\n  \"password\" : \"passw0rd\"\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/login",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - Create Transport Order",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "POST",
        "header":      [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"order1\",\n      \"carrier\":   \"koopman\",\n      \"source\":    \"amsterdamcompound\",\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t},\n        {\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"status\":    \"OPEN\",\n      \"issueDate\": 1502834400000,\n      \"ecmrs\":     [],\n      \"orderRef\":  \"ref\",\n      \"owner\":     \"leaseplan\"\n    }"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            ""
          ]
        },
        "description": "Legal Owner can create Transport Order"
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - Create Transport Order to Cancel",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "POST",
        "header":      [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"orderToCancel\",\n      \"carrier\":   \"koopman\",\n      \"source\":    \"amsterdamcompound\",\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t},\n        {\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"status\":    \"OPEN\",\n      \"issueDate\": 1502834400000,\n      \"ecmrs\":     [],\n      \"orderRef\":  \"ref\",\n      \"owner\":     \"leaseplan\"\n    }"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            ""
          ]
        },
        "description": "Legal Owner can create Transport Order"
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - UpdatePickupWindow",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "PUT",
        "header":      [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"vin\": \"A12345VIN\",\n\t\"dateWindow\": {\n\t\t\"startDate\": 1512082800000,\n\t\t\"endDate\": 1512428400000\n\t}\n}"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/updatePickupWindow",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            "updatePickupWindow"
          ]
        },
        "description": "Legal Owner can create Transport Order"
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - UpdateDeliveryWindow",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "PUT",
        "header":      [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"vin\": \"A12345VIN\",\n\t\"dateWindow\": {\n\t\t\"startDate\": 1512514800000, \n\t\t\"endDate\": 1512860400000\n\t}\n}"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/updateDeliveryWindow",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            "updateDeliveryWindow"
          ]
        },
        "description": "Legal Owner can create Transport Order"
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - Cannot Create ECMR(s) from TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"randomEcmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"randomEcmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/createECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "createECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - Cancel Transport Order",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "PUT",
        "header":      [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"orderToCancel\",\n      \"cancellation\": {\n      \t\"cancelledBy\": \"lapo\",\n      \t\"date\": \"154324000000\",\n      \t\"reason\": \"I changed my mind\"\n      }\n    }"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/cancel",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "cancel"
          ]
        },
        "description": "Legal Owner can create Transport Order"
      },
      "response": []
    },
    {
      "name":     "Legal Owner - GET ECMR",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - GET ECMR by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData);",
              "if (jsonData) {",
              "    tests[\"is of type ecmr\"] = (jsonData.ecmrID !== null && jsonData.ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/ecmrID/ecmr1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "ecmrID",
            "ecmr1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - GET TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - GET TransportOrder by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/orderID/order1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "orderID",
            "order1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - GET TransportOrder by status",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/status/OPEN",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "status",
            "OPEN"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - Get all Vehicles",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type vehicle\"] = (jsonData[0].vin !== null && jsonData[0].vin !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - Get Vehicle by VIN",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "// if (jsonData.length > 0) {",
              "//     tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "// }"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/vin/{{vinNumber}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            "vin",
            "{{vinNumber}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner - Get Vehicle by platenumber",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "// if (jsonData.length > 0) {",
              "//     tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "// }"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/platenumber/{{plateNumber}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            "platenumber",
            "{{plateNumber}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - Login",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "postman.setEnvironmentVariable(\"carrierAdminToken\", jsonData.token);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Authentication successful\"] = jsonData.success === true;",
              "tests[\"Correct user\"] = jsonData.user[\"username\"] === \"pete@koopman.org\";"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n  \"username\" : \"pete@koopman.org\",\n  \"password\" : \"passw0rd\"\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/login",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - GET ECMR",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - GET ECMR by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "1aadd9c3-9bed-4bed-8495-b07695ebf39d",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData) {",
              "    tests[\"is of type ecmr\"] = (jsonData.ecmrID !== null && jsonData.ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/ecmrID/ecmr1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "ecmrID",
            "ecmr1"
          ]
        }
      },
      "response": []
    },
    {
      "name":  "Carrier Admin - GET TransportOrder",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - GET TransportOrder by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/orderID/order1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "orderID",
            "order1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - GET TransportOrder by status",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/status/OPEN",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "status",
            "OPEN"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - Create ECMR(s) from TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type TransportOrder\"] = (jsonData[0].orderID !== null && jsonData[0].orderID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"ecmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"ecmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/CreateECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "CreateECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Admin - Create ECMR(s) from TransportOrder with mismatch of VINs",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "0a8151f7-2a16-4851-9747-136c83aa549e",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierAdminToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"ecmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"ecmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        },\n        {\n          \"vehicle\":         {\n            \"vin\":             \"C12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"B12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/CreateECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "CreateECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Legal Owner Admin - Cannot cancel Transport Order if not in OPEN status",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "4416179a-57ae-47dd-b073-c624517ba1db",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "PUT",
        "header":      [
          {
            "key":   "x-access-token",
            "value": "{{legalOwnerToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"order1\",\n      \"cancellation\": {\n      \t\"cancelledBy\": \"lapo\",\n      \t\"date\": \"154324000000\",\n      \t\"reason\": \"I changed my mind\"\n      }\n    }"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/cancel",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "cancel"
          ]
        },
        "description": "Legal Owner can create Transport Order"
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Login",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "postman.setEnvironmentVariable(\"compoundToken\", jsonData.token);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Authentication successful\"] = jsonData.success === true;",
              "tests[\"Correct user\"] = jsonData.user[\"username\"] === \"willem@amsterdamcompound.org\";"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n  \"username\" : \"willem@amsterdamcompound.org\",\n  \"password\" : \"passw0rd\"\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/login",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Cannot Create ECMR(s) from TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "",
              "// postman.setEnvironmentVariable(\"ecmrID\", jsonData[0].ecmrID);"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"randomEcmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"randomEcmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/CreateECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "CreateECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Cannot create Transport Order",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"821389123621836\",\n      \"loading\":   {\n        \"actualDate\":              1502834400000,\n        \"address\":           {\n          \"name\":        \"loading address\",\n          \"street\":      \"een straat\",\n          \"houseNumber\": \"41\",\n          \"city\":        \"Groningen\",\n          \"zipCode\":     \"7811 HC\",\n          \"country\":     \"netherlands\",\n          \"longitude\":   124,\n          \"latitude\":    123\n        }\n      },\n      \"delivery\":  {\n        \"actualDate\":    1502834400000,\n        \"address\": {\n          \"name\":        \"delivery adress\",\n          \"street\":      \"een straat\",\n          \"houseNumber\": \"41\",\n          \"city\":        \"Groningen\",\n          \"zipCode\":     \"7811 HC\",\n          \"country\":     \"netherlands\",\n          \"longitude\":   124,\n          \"latitude\":    123\n        }\n      },\n      \"carrier\":   \"koopman\",\n      \"source\":    \"amsterdamcompound\",\n      \"goods\":     [\n        {\n          \"$class\":            \"org.digitalcmr.Good\",\n          \"vehicle\":           {\n            \"$class\":          \"org.digitalcmr.Vehicle\",\n            \"vin\":             \"183726339N\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":       \"vehicle\",\n          \"weight\":            1500,\n          \"loadingStartDate\":  1502834400000,\n          \"loadingEndDate\":    1502834400000,\n          \"deliveryStartDate\": 1502834400000,\n          \"deliveryEndDate\":   1502834400000\n        },\n        {\n          \"$class\":            \"org.digitalcmr.Good\",\n          \"vehicle\":           {\n            \"$class\":          \"org.digitalcmr.Vehicle\",\n            \"vin\":             \"736182CHD28172\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":       \"vehicle\",\n          \"weight\":            1800,\n          \"loadingStartDate\":  1502834400000,\n          \"loadingEndDate\":    1502834400000,\n          \"deliveryStartDate\": 1502834400000,\n          \"deliveryEndDate\":   1502834400000\n        }\n      ],\n      \"status\":    \"OPEN\",\n      \"issueDate\": 1502834400000,\n      \"ecmrs\":     [],\n      \"orderRef\":  \"ref\",\n      \"owner\":     \"leaseplan\"\n    }"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Cannot Create ECMR(s) from TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"randomEcmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"randomEcmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/createECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "createECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - GET ECMR",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - GET ECMR by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "58dcc6cc-fdcf-43e9-b02f-c97b6c20197e",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData) {",
              "    tests[\"is of type ecmr\"] = (jsonData.ecmrID !== null && jsonData.ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/ecmrID/ecmr1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "ecmrID",
            "ecmr1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - GET ECMR by STATUS",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData[0].status)",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type ecmr filtered by status CREATED\"] = (jsonData[0].status === 'CREATED' && jsonData[0].ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          },
          {
            "key":      "",
            "value":    "",
            "disabled": true
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/status/{{ecmrStatus_CREATED}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "status",
            "{{ecmrStatus_CREATED}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Cannot GET TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData === 200) {",
              "    tests[\"is not able to get Transport Order\"] = (jsonData === 200);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - GET all Vehicles",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type vehicle\"] = (jsonData[0].vin !== null && jsonData[0].vin !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Get Vehicle by VIN",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "// if (jsonData.length > 0) {",
              "//     tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "// }"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/vin/{{vinNumber}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            "vin",
            "{{vinNumber}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Compound Admin - Update ECMR status to LOADED",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method": "PUT",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{compoundToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n      \"ecmrID\": \"ecmr1\",\n      \"signature\": {\n      \t\"generalRemark\": {\n      \t\t\"comments\": \"loading good\"\n      \t}\n      },\n      \"goods\": [\n        {\n          \"vehicle\": {\n            \"vin\": \"A12345VIN\",\n            \"manufacturer\": \"Audi\",\n            \"model\": \"A1\",\n            \"type\": \"sportback\",\n            \"ecmrs\": [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\": \"AV198RX\"\n          },\n          \"description\": \"vehicle\",\n          \"weight\": 1500,\n          \"loadingAddress\": {\n                \"name\": \"loading address\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"deliveryAddress\": {\n                \"name\": \"delivery adress\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"pickupWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            },\n            \"deliveryWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            }\n        }\n      ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/status/{{ecmrStatus_LOADED}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "status",
            "{{ecmrStatus_LOADED}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Login",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "postman.setEnvironmentVariable(\"carrierMemberToken\", jsonData.token);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Authentication succuessful\"] = jsonData.success === true;",
              "tests[\"Correct user\"] = jsonData.user[\"username\"] === \"harry@koopman.org\";"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n  \"username\" : \"harry@koopman.org\",\n  \"password\" : \"passw0rd\"\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/login",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Cannot Create ECMR(s) from TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "",
              "// postman.setEnvironmentVariable(\"ecmrID\", jsonData[0].ecmrID);"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"randomEcmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"randomEcmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/CreateECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "CreateECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Cannot create Transport Order",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"821389123621836\",\n      \"loading\":   {\n        \"actualDate\":              1502834400000,\n        \"address\":           {\n          \"name\":        \"loading address\",\n          \"street\":      \"een straat\",\n          \"houseNumber\": \"41\",\n          \"city\":        \"Groningen\",\n          \"zipCode\":     \"7811 HC\",\n          \"country\":     \"netherlands\",\n          \"longitude\":   124,\n          \"latitude\":    123\n        }\n      },\n      \"delivery\":  {\n        \"actualDate\":    1502834400000,\n        \"address\": {\n          \"name\":        \"delivery adress\",\n          \"street\":      \"een straat\",\n          \"houseNumber\": \"41\",\n          \"city\":        \"Groningen\",\n          \"zipCode\":     \"7811 HC\",\n          \"country\":     \"netherlands\",\n          \"longitude\":   124,\n          \"latitude\":    123\n        }\n      },\n      \"carrier\":   \"koopman\",\n      \"source\":    \"amsterdamcompound\",\n      \"goods\":     [\n        {\n          \"$class\":            \"org.digitalcmr.Good\",\n          \"vehicle\":           {\n            \"$class\":          \"org.digitalcmr.Vehicle\",\n            \"vin\":             \"183726339N\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":       \"vehicle\",\n          \"weight\":            1500,\n          \"loadingStartDate\":  1502834400000,\n          \"loadingEndDate\":    1502834400000,\n          \"deliveryStartDate\": 1502834400000,\n          \"deliveryEndDate\":   1502834400000\n        },\n        {\n          \"$class\":            \"org.digitalcmr.Good\",\n          \"vehicle\":           {\n            \"$class\":          \"org.digitalcmr.Vehicle\",\n            \"vin\":             \"736182CHD28172\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":       \"vehicle\",\n          \"weight\":            1800,\n          \"loadingStartDate\":  1502834400000,\n          \"loadingEndDate\":    1502834400000,\n          \"deliveryStartDate\": 1502834400000,\n          \"deliveryEndDate\":   1502834400000\n        }\n      ],\n      \"status\":    \"OPEN\",\n      \"issueDate\": 1502834400000,\n      \"ecmrs\":     [],\n      \"orderRef\":  \"ref\",\n      \"owner\":     \"leaseplan\"\n    }"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - GET ECMR",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - GET ECMR by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData) {",
              "    tests[\"is of type ecmr\"] = (jsonData.ecmrID !== null && jsonData.ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {},
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/ecmrID/ecmr1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "ecmrID",
            "ecmr1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - is not able to GET ECMR when status is CREATED",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData === 200) {",
              "    tests[\"is not able to get status by CREATED\"] = (jsonData === 200);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          },
          {
            "key":      "",
            "value":    "",
            "disabled": true
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/status/{{status_CREATED}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "status",
            "{{status_CREATED}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Cannot GET TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData === 200) {",
              "    tests[\"is not able to get status by CREATED\"] = (jsonData === 200);",
              "}tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData === 200) {",
              "    tests[\"is not able to get Transport Order\"] = (jsonData === 200);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Get all Vehicles",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type vehicle\"] = (jsonData[0].vin !== null && jsonData[0].vin !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Get Vehicle by VIN",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "// if (jsonData.length > 0) {",
              "//     tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "// }"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/vin/{{vinNumber}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            "vin",
            "{{vinNumber}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Update ECMR status to IN_TRANSIT",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method":      "PUT",
        "header":      [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":        {
          "mode": "raw",
          "raw":  "{\n      \"ecmrID\": \"ecmr1\",\n      \"signature\": {\n      \t\"generalRemark\": {\n      \t\t\"comments\": \"leaving the compound\"\n      \t}\n      },\n      \"goods\": [\n        {\n          \"vehicle\": {\n            \"vin\": \"A12345VIN\",\n            \"manufacturer\": \"Audi\",\n            \"model\": \"A1\",\n            \"type\": \"sportback\",\n            \"ecmrs\": [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\": \"AV198RX\"\n          },\n          \"description\": \"vehicle\",\n          \"weight\": 1500,\n          \"loadingAddress\": {\n                \"name\": \"loading address\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"deliveryAddress\": {\n                \"name\": \"delivery adress\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"pickupWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            },\n            \"deliveryWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            }\n        }\n      ]\n}"
        },
        "url":         {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/status/{{ecmrStatus_IN_TRANSIT}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "status",
            "{{ecmrStatus_IN_TRANSIT}}"
          ]
        },
        "description": "Updates selected ecmr status to IN_TRANSIT"
      },
      "response": []
    },
    {
      "name":     "Carrier Member - Update ECMR status to Delivered",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method": "PUT",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{carrierMemberToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t  \"orderID\": \"order1\",\n      \"ecmrID\": \"ecmr1\",\n      \"signature\": {\n      \t\"generalRemark\": {\n      \t\t\"comments\": \"delivered to the recipient\"\n      \t}\n      },\n      \"goods\": [\n        {\n          \"vehicle\": {\n            \"vin\": \"A12345VIN\",\n            \"manufacturer\": \"Audi\",\n            \"model\": \"A1\",\n            \"type\": \"sportback\",\n            \"ecmrs\": [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\": \"AV198RX\"\n          },\n          \"description\": \"vehicle\",\n          \"weight\": 1500,\n          \"loadingAddress\": {\n                \"name\": \"loading address\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"deliveryAddress\": {\n                \"name\": \"delivery adress\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"pickupWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            },\n            \"deliveryWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            }\n        }\n      ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/status/{{ecmrStatus_DELIVERED}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "status",
            "{{ecmrStatus_DELIVERED}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient Admin - Login",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "postman.setEnvironmentVariable(\"recipientToken\", jsonData.token);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Authentication succuessful\"] = jsonData.success === true;",
              "console.log(jsonData.user);",
              "tests[\"Correct user\"] = jsonData.user[\"username\"] === \"rob@cardealer.org\";"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n  \"username\" : \"rob@cardealer.org\",\n  \"password\" : \"passw0rd\"\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/login",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Cannot create an Transport Order",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "    {\n      \"orderID\":   \"randomOrder\",\n      \"carrier\":   \"koopman\",\n      \"source\":    \"amsterdamcompound\",\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t},\n        {\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"status\":    \"OPEN\",\n      \"issueDate\": 1502834400000,\n      \"ecmrs\":     [],\n      \"orderRef\":  \"ref\",\n      \"owner\":     \"leaseplan\"\n    }"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/TransportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "TransportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Cannot Create ECMR(s) from TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 500\"] = responseCode.code === 500;"
            ]
          }
        }
      ],
      "request":  {
        "method": "POST",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          },
          {
            "key":   "Content-Type",
            "value": "application/json"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t\"orderID\": \"order1\",\n\t\"ecmrs\": [\n{\n      \"ecmrID\": \"randomEcmr1\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"vehicle\":         {\n            \"vin\":             \"A12345VIN\",\n            \"manufacturer\":    \"Audi\",\n            \"model\":           \"A1\",\n            \"type\":            \"sportback\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"AV198RX\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1500,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          }\n      \t}\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    },\n    {\n      \"ecmrID\": \"randomEcmr2\",\n      \"status\": \"CREATED\",\n      \"agreementTerms\" : \"agreement terms\",\n      \"agreementTermsSec\": \"sec agreement terms\",\n      \"legalOwnerRef\" : \"453543\",\n      \"carrierRef\": \"123\",\n      \"recipientRef\": \"321\",\n      \"orderID\": \"\",\n      \"creation\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Assen\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"date\": 1502402400000\n      },\n      \"loading\": {\n        \"address\": {\n          \"name\": \"Amsterdam Compound\",\n          \"street\": \"compenstraat\",\n          \"houseNumber\": \"21\",\n          \"city\": \"Amsterdam Zuid\",\n          \"zipCode\": \"9976ZH\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 43.1927,\n          \"longitude\": 23.3249\n        },\n        \"actualDate\": 1502402400000\n      },\n      \"delivery\": {\n        \"address\": {\n          \"name\": \"Rob Carman\",\n          \"street\": \"autostraat\",\n          \"houseNumber\": \"12\",\n          \"city\": \"Rotterdam\",\n          \"zipCode\": \"9442KO\",\n          \"country\": \"Netherlands\",\n          \"latitude\": 51.4443,\n          \"longitude\": 60.3323\n        },\n        \"actualDate\": 1502488800000\n      },\n      \"owner\": \"leaseplan\",\n      \"source\": \"amsterdamcompound\",\n      \"transporter\": \"harry@koopman.org\",\n      \"carrier\": \"koopman\",\n      \"recipientOrg\": \"cardealer\",\n      \"recipient\": \"rob@cardealer.org\",\n      \"issueDate\": 0,\n      \"issuedBy\": \"koopman\",\n      \"carrierComments\": \"No comments\",\n      \"documents\": [],\n      \"goods\": [\n      \t{\n          \"vehicle\":         {\n            \"vin\":             \"B12345VIN\",\n            \"manufacturer\":    \"Mercedes\",\n            \"model\":           \"SLK\",\n            \"type\":            \"Station\",\n            \"ecmrs\":           [\"A12345ECMR\"],\n            \"odoMeterReading\": 0,\n            \"plateNumber\":     \"I827YE\"\n          },\n          \"description\":     \"vehicle\",\n          \"weight\":          1800,\n          \"pickupWindow\":    {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"deliveryWindow\":  {\n            \"startDate\": 1502834400000,\n            \"endDate\":   1502834400000\n          },\n          \"loadingAddress\":  {\n            \"name\":        \"loading address\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          },\n          \"deliveryAddress\": {\n            \"name\":        \"delivery adress\",\n            \"street\":      \"een straat\",\n            \"houseNumber\": \"41\",\n            \"city\":        \"Groningen\",\n            \"zipCode\":     \"7811 HC\",\n            \"country\":     \"netherlands\",\n            \"longitude\":   124,\n            \"latitude\":    123\n          }\n        }\n      ],\n      \"legalOwnerInstructions\": \"string\",\n      \"paymentInstructions\": \"string\",\n      \"payOnDelivery\": \"string\"\n    }\n    ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/createECMRs",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "createECMRs"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - GET ECMR",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - GET ECMR by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "5843f4f5-db74-41aa-818b-05e35362d0eb",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData);",
              "if (jsonData) {",
              "    tests[\"is of type ecmr\"] = (jsonData.ecmrID !== null && jsonData.ecmrID !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/ecmrID/ecmr1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "ecmrID",
            "ecmr1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Cannot GET TransportOrder",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "87c4e58a-31b1-4412-a0c7-4f61a77f1d83",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData === 200) {",
              "    tests[\"is not able to get Transport Order\"] = (jsonData === 200);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Cannot GET TransportOrder by ID",
      "event":    [
        {
          "listen": "test",
          "script": {
            "id":   "d5ba876c-7677-425a-a53a-bfb14d98199e",
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "if (jsonData === 200) {",
              "    tests[\"is not able to get Transport Order\"] = (jsonData === 200);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/transportOrder/orderID/order1",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "transportOrder",
            "orderID",
            "order1"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Get all Vehicles",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "var jsonData = JSON.parse(responseBody);",
              "console.log(jsonData);",
              "if (jsonData.length > 0) {",
              "    tests[\"is of type vehicle\"] = (jsonData[0].vin !== null && jsonData[0].vin !== undefined);",
              "}"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Get Vehicle by VIN",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "",
              "// var jsonData = JSON.parse(responseBody);",
              "// if (jsonData.length > 0) {",
              "//     tests[\"is of type ecmr\"] = (jsonData[0].ecmrID !== null && jsonData[0].ecmrID !== undefined);",
              "// }"
            ]
          }
        }
      ],
      "request":  {
        "method": "GET",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  ""
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/vehicle/vin/{{vinNumber}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "vehicle",
            "vin",
            "{{vinNumber}}"
          ]
        }
      },
      "response": []
    },
    {
      "name":     "Recipient - Update ECMR status to confirmed_delivered",
      "event":    [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Updated ECMR status to confirmed_delivered. Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request":  {
        "method": "PUT",
        "header": [
          {
            "key":   "Content-Type",
            "value": "application/json"
          },
          {
            "key":   "x-access-token",
            "value": "{{recipientToken}}"
          }
        ],
        "body":   {
          "mode": "raw",
          "raw":  "{\n\t  \"orderID\": \"order1\",\n      \"ecmrID\": \"ecmr1\",\n      \"signature\": {\n      \t\"generalRemark\": {\n      \t\t\"comments\": \"loading good\"\n      \t}\n      },\n      \"goods\": [\n        {\n          \"vehicle\": {\n            \"vin\": \"A12345VIN\",\n            \"manufacturer\": \"Audi\",\n            \"model\": \"A1\",\n            \"type\": \"sportback\",\n            \"ecmrs\": [],\n            \"odoMeterReading\": 0,\n            \"plateNumber\": \"AV198RX\"\n          },\n          \"description\": \"vehicle\",\n          \"weight\": 1500,\n          \"loadingAddress\": {\n                \"name\": \"loading address\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"deliveryAddress\": {\n                \"name\": \"delivery adress\",\n                \"street\": \"een straat\",\n                \"houseNumber\": \"41\",\n                \"city\": \"Groningen\",\n                \"zipCode\": \"7811 HC\",\n                \"country\": \"netherlands\",\n                \"latitude\": 123,\n                \"longitude\": 124\n            },\n            \"pickupWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            },\n            \"deliveryWindow\": {\n                \"startDate\": 1502834400000,\n                \"endDate\": 1502834400000\n            }\n        }\n      ]\n}"
        },
        "url":    {
          "raw":  "{{localhost}}{{clientPort}}/api/v1/ECMR/status/{{ecmrStatus_CONFIRMED_DELIVERED}}",
          "host": [
            "{{localhost}}{{clientPort}}"
          ],
          "path": [
            "api",
            "v1",
            "ECMR",
            "status",
            "{{ecmrStatus_CONFIRMED_DELIVERED}}"
          ]
        }
      },
      "response": []
    }
  ]
}