<div class="ui container">
  <div class="row content-top-margin">
    <div class="table-title">E-CMR Overview</div>
  </div>
  <div class="row">
    <div class="ui pointing secondary menu">
      <a class="item" data-tab="first" (click)="setCurrentView('OPEN')"
         [ngClass]="{'active' : currentView === 'OPEN' ? true : false}">OPEN</a>
      <a class="item" data-tab="second" (click)="setCurrentView('ON_TRACK')"
         [ngClass]="{'active' : currentView === 'ON_TRACK' ? true : false}">IN PROGRESS</a>
      <a class="item" data-tab="third" (click)="setCurrentView('CLOSED')"
         [ngClass]="{'active' : currentView === 'CLOSED' ? true : false}">COMPLETED</a>
    </div>
    <div class="ui active tab grid" data-tab="first">
      <div class="row">
        <table class="ui unstackable table spacing-table">
          <thead class="table-header">
          <th></th>
          <th>Date</th>
          <th>Embarkment</th>
          <th>Destination</th>
          <th>Number of vehicles</th>
          <th>Carrier</th>
          <th>Recipient</th>
          <th>Remark</th>
          <th>Damage Remark</th>
          <th>Status</th>
          <th></th>
          </thead>
          <tbody>
          <tr *ngFor="let ecmr of ecmrsFiltered" class="table-row">
            <td></td>
            <td>{{ecmr.creation.date | date:"dd-MM-yyyy"}}</td>
            <td>{{ecmr.loading.address.city}}</td>
            <td>{{ecmr.delivery.address.city}}</td>
            <td class="centerContent">{{ecmr.goods.length}}</td>
            <td>{{ecmr.carrier.split('#')[1]}}</td>
            <td>{{ecmr.recipient.split('#')[1].split('@')[0]}}</td>
            <td class="centerContent"><img src="../../../assets/icons/icon-comment.svg"
                                           *ngIf="ecmr.carrierComments != '' || null"/></td>
            <td class="centerContent"><img src="../../../assets/icons/exlamation.svg"
                                           *ngIf="ecmr.carrierComments != '' || null"/></td>
            <td><span
              [ngClass]="{'open-status' : ecmr.status === 'OPEN' ? true : false,
                        'transit-status' : ecmr.status === 'ON_TRACK' ? true : false,
                        'completed-status': ecmr.status === 'CLOSED' ? true : false}">
                        {{ecmr.status}}
                      </span></td>
            <td><a routerLink="/ecmr/{{ecmr.ecmrID}}" class="viewMore">View More &#62;</a></td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
